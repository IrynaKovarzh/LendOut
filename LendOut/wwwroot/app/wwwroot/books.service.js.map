{"version":3,"sources":["books.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;YAOA;gBACC,YAAoB,IAAU;oBAAV,SAAI,GAAJ,IAAI,CAAM;oBAEtB,YAAO,GAAG,YAAY,CAAC,CAAC,cAAc;gBAFZ,CAAC;gBAInC,uFAAuF;gBACvF,GAAG,CAAC,EAAU;oBACb,EAAE,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC;wBAAC,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;oBAAC,CAAC;oBACvD,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;oBAE5B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;yBACvB,GAAG,CAAC,GAAG,IAAU,GAAG,CAAC,IAAI,EAAE,CAAC;yBAC5B,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC3B,CAAC;gBAED,8BAA8B;gBAC9B,MAAM;oBACL,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;oBAEvB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;yBACvB,GAAG,CAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC;yBAChC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC3B,CAAC;gBAED,iEAAiE;gBACjE,GAAG,CAAC,IAAU;oBACb,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;oBACvB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAC9C,IAAI,CAAC,iBAAiB,EAAE,CAAC;yBACxB,GAAG,CAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC;yBAChC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC3B,CAAC;gBAED,0FAA0F;gBAC1F,MAAM,CAAC,EAAU;oBACjB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;oBAC5B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;yBAC1B,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBACvB,CAAC;gBAEJ,6EAA6E;gBAC7E,MAAM,CAAC,IAAU;oBAChB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,EAAE,CAAC;oBACjC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAC7C,IAAI,CAAC,iBAAiB,EAAE,CAAC;yBACxB,GAAG,CAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC;yBAChC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC3B,CAAC;gBAED,iEAAiE;gBACzD,iBAAiB;oBACxB,MAAM,CAAC,IAAI,qBAAc,CAAC;wBACzB,OAAO,EAAE,IAAI,cAAO,CAAC;4BACpB,cAAc,EAAE,kBAAkB;yBAClC,CAAC;qBACF,CAAC,CAAC;gBACJ,CAAC;gBAEO,WAAW,CAAC,KAAe;oBAClC,gCAAgC;oBAChC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;oBACrB,MAAM,CAAC,uBAAU,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,KAAK,IAAI,cAAc,CAAC,CAAC;gBAC/D,CAAC;YACF,CAAC;YAhED;gBAAC,iBAAU,EAAE;;4BAAA;YACb,uCA+DC,CAAA","file":"../books.service.js","sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { Http, Response, Headers, RequestOptions } from \"@angular/http\";\r\nimport { Observable } from \"rxjs/Observable\";\r\n\r\nimport { Book } from \"./book\";\r\n\r\n@Injectable()\r\nexport class BooksService {\r\n\tconstructor(private http: Http) { }\r\n\r\n\tprivate baseUrl = \"api/Books/\"; // web api URL\r\n\r\n\t// calls the [GET] /api/Books/id Web API method to retrieve the item with the given id.\r\n\tget(id: number) {\r\n\t\tif (id == null) { throw new Error(\"id is required.\"); }\t\t\r\n\t\tvar url = this.baseUrl + id;\r\n\r\n\t\treturn this.http.get(url)\r\n\t\t\t.map(res => <Book>res.json())\r\n\t\t\t.catch(this.handleError);\r\n\t}\r\n\r\n\t// calls the [GET] /api/Books.\r\n\tgetAll() {\r\n\t\tvar url = this.baseUrl;\r\n\r\n\t\treturn this.http.get(url)\r\n\t\t\t.map(response => response.json())\r\n\t\t\t.catch(this.handleError);\r\n\t}\r\n\r\n\t// calls the [POST] /api/books/ Web API method to add a new item.\r\n\tadd(book: Book) {\r\n\t\tvar url = this.baseUrl;\r\n\t\treturn this.http.post(url, JSON.stringify(book),\r\n\t\t\tthis.getRequestOptions())\r\n\t\t\t.map(response => response.json())\r\n\t\t\t.catch(this.handleError);\r\n\t}\r\n\r\n\t// calls the [DELETE] /api/books/{id} Web API method to delete the book with the given id.\r\n\tdelete(id: number) {\r\n\tvar url = this.baseUrl + id;\r\n\treturn this.http.delete(url)\r\n\t\t.catch(this.handleError);\r\n    }\r\n\r\n\t// calls the [PUT] /api/books/{id} Web API method to update an existing book.\r\n\tupdate(book: Book) {\r\n\t\tvar url = this.baseUrl + book.Id;\r\n\t\treturn this.http.put(url, JSON.stringify(book),\r\n\t\t\tthis.getRequestOptions())\r\n\t\t\t.map(response => response.json())\r\n\t\t\t.catch(this.handleError);\r\n\t}\r\n\r\n\t// returns a viable RequestOptions object to handle Json requests\r\n\tprivate getRequestOptions() {\r\n\t\treturn new RequestOptions({\r\n\t\t\theaders: new Headers({\r\n\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tprivate handleError(error: Response) {\r\n\t\t// output errors to the console.\r\n\t\tconsole.error(error);\r\n\t\treturn Observable.throw(error.json().error || \"Server error\");\r\n\t}\r\n}"]}