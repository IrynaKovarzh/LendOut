{"version":3,"sources":["book-detail.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAqEA;gBAGC,YAAoB,YAA0B,EAC5B,MAAc,EACnB,cAA8B;oBAFvB,iBAAY,GAAZ,YAAY,CAAc;oBAC5B,WAAM,GAAN,MAAM,CAAQ;oBACnB,mBAAc,GAAd,cAAc,CAAgB;gBAC3C,CAAC;gBAED,QAAQ;oBACP,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;oBAEpD,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;wBACR,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,SAAS,CACtB,IAAI,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CACjC,CAAC;oBACN,CAAC;oBACD,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;wBACnB,+CAA+C;wBAC/C,IAAI,CAAC,IAAI,GAAG,IAAI,WAAI,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;oBACvC,CAAC;oBACG,IAAI,CAAC,CAAC;wBACV,sDAAsD;wBACrD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBACvB,CAAC;gBACP,CAAC;gBAED,QAAQ,CAAC,IAAU;oBAElB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC;yBACzB,SAAS,CACV,CAAC,IAAI;wBACJ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;wBAChB,4DAA4D;wBAC5D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC5B,CAAC,CAEG,CAAC;gBACJ,CAAC;gBAEJ,MAAM;oBACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBAC5B,CAAC;gBAED,QAAQ,CAAC,IAAU;oBAClB,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;oBACjB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,SAAS,CACrC,CAAC,IAAI;wBACL,oDAAoD;wBACnD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC5B,CAAC,CAED,CAAC;gBACH,CAAC;gBAED,QAAQ,CAAC,IAAU;oBAClB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,SAAS,CACvC,CAAC,IAAI;wBACJ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;wBACjB,6DAA6D;wBAC7D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC5B,CAAC,CAED,CAAC;gBACH,CAAC;YACD,CAAC;YAhIH;gBAAC,gBAAS,CAAC;oBACV,QAAQ,EAAE,YAAY;oBACtB,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA2CV;oBAEA,MAAM,EAAE,CAAC;;;;;;;;;;;;;;CAcT,CAAC;iBAED,CAAC;;mCAAA;YACF,qDAgEG,CAAA","file":"../book-detail.component.js","sourcesContent":["import { Component, OnInit } from \"@angular/core\";\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { Book } from \"./book\";\r\nimport { BooksService } from \"./books.service\";\r\n\r\n@Component({\r\n\tselector: \"bookdetail\",\r\n\ttemplate: `\r\n<div *ngIf=\"book\" class=\"book-details\">\r\n<h2>Detail View</h2>\r\n\r\n<ul>\r\n<li>\r\n<label>Title:</label>\r\n<input [(ngModel)]=\"book.Title\" name=\"Title\"\r\nplaceholder=\"Insert the title...\"/>\r\n</li>\r\n\r\n<li>\r\n<label>Author:</label>\r\n<input [(ngModel)]=\"book.Author\" name=\"Author\"\r\nplaceholder=\"Insert the author...\"/>\r\n</li>\r\n\r\n<li>\r\n<label>Age Category:</label>\r\n<input [(ngModel)]=\"book.AgeCategoryId\" name=\"AgeCategoryId\"/> \r\n</li>\r\n\r\n<li>\r\n<label>Category:</label>\r\n<input [(ngModel)]=\"book.CategoryId\" name=\"CategoryId\"/>\r\n</li>\r\n\r\n</ul>\r\n\r\n<div *ngIf=\"book.Id == 0\" class=\"commands insert\">\r\n<input type=\"button\" value=\"Save\" (click)=\"onInsert(book)\"/>\r\n<input type=\"button\" value=\"Cancel\" (click)=\"onBack()\" />\r\n</div>\r\n\r\n<div *ngIf=\"book.Id != 0\" class=\"commands update\">\r\n<input type=\"button\" value=\"Update\" (click)=\"onUpdate(book)\"\r\n/>\r\n<input type=\"button\" value=\"Delete\" (click)=\"onDelete(book)\"\r\n/>\r\n<input type=\"button\" value=\"Back\" (click)=\"onBack()\" />\r\n</div>\r\n\r\n</div>\r\n`,\r\n\r\n\tstyles: [`\r\n.book-details {\r\nmargin: 5px;\r\npadding: 5px 10px;\r\nborder: 1px solid black;\r\nbackground-color: #dddddd;\r\nwidth: 300px;\r\n}\r\n.book-details * {\r\nvertical-align: middle;\r\n}\r\n.book-details ul li {\r\npadding: 5px 0;\r\n}\r\n`]\r\n\r\n})\r\nexport class BookDetailComponent {\r\n\tbook: Book;\r\n\r\n\tconstructor(private booksService: BooksService,\r\n\t         \tprivate router: Router,\r\n\t\t\t\t  private activatedRoute: ActivatedRoute) {\r\n\t}\t\r\n\r\n\tngOnInit() {\r\n\t\tvar id = +this.activatedRoute.snapshot.params[\"id\"];\r\n\r\n\t\tif (id) {\r\n\t\t\tthis.booksService.get(id).subscribe(\t\t\t\t\t\t\r\n                book => this.book = book\r\n\t\t\t   );\r\n\t\t}\r\n\t\telse if (id === 0) {\r\n\t\t\t//console.log(\"id is 0: adding a new item...\");\r\n\t\t\tthis.book = new Book(0, \"\", \"\", 1, 1);\r\n\t\t}\r\n\t\t    else {\r\n\t\t//\tconsole.log(\"Invalid id: routing back to home...\");\r\n\t\t\tthis.router.navigate([\"\"]);\r\n\t\t     }\r\n\t}\r\n\r\n\tonInsert(book: Book)\r\n\t{\t\t\r\n\t\tthis.booksService.add(book)\t\t\t\r\n\t\t\t.subscribe(\t\t\t\r\n\t\t\t(data) => {\r\n\t\t\t\tthis.book = data;\t\t\t\t\t\r\n\t\t\t\t\t//\tconsole.log(\"Book \" + this.book.Id + \" has been added.\");\r\n\t\t\t\t\tthis.router.navigate([\"\"]);\r\n\t\t\t\t}\r\n\t\t\t//\t(error) => console.log(error)\r\n\t\t\t    );\r\n\t    }\r\n\r\n\t\tonBack() {\r\n\t\t\tthis.router.navigate([\"\"]);\r\n\t\t}\r\n\r\n\t\tonDelete(book: Book) {\r\n\t\t\tvar id = book.Id;\r\n\t\t\tthis.booksService.delete(id).subscribe(\r\n\t\t\t\t(data) => {\r\n\t\t\t\t//\tconsole.log(\"Item \" + id + \" has been deleted.\");\r\n\t\t\t\t\tthis.router.navigate([\"\"]);\r\n\t\t\t\t}\r\n\t\t\t\t//(error) => console.log(error)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tonUpdate(book: Book) {\r\n\t\t\tthis.booksService.update(book).subscribe(\r\n\t\t\t\t(data) => {\r\n\t\t\t\t\tthis.book = data;\r\n\t\t\t\t\t//console.log(\"Item \" + this.item.Id + \" has been updated.\");\r\n\t\t\t\t\tthis.router.navigate([\"\"]);\r\n\t\t\t\t}\r\n\t\t\t\t//(error) => console.log(error)\r\n\t\t\t);\r\n\t\t}\r\n\t\t}"]}